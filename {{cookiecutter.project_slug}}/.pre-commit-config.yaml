repos:
# Generic formatting
- repo: https://github.com/pre-commit/pre-commit-hooks
  rev: v6.0.0
  hooks:
  - id: check-added-large-files
  - id: check-merge-conflict
  - id: check-yaml
    args: ['--unsafe']  # necessary to avoid error on missing tag in `mkdocs.yml`
  - id: debug-statements
  - id: end-of-file-fixer
  - id: mixed-line-ending
  - id: no-commit-to-branch
    args: ["--branch=main"]
  - id: pretty-format-json
    args: ["--autofix", "--no-sort-keys"]
  - id: trailing-whitespace

# Python lint and formatting
- repo: https://github.com/astral-sh/ruff-pre-commit
  # Ruff version.
  rev: v0.13.0
  hooks:
  # Run the linter.
  - id: ruff-check
    args: [ --fix ]
  # Run the formatter.
  - id: ruff-format

# Ensure UV files locked
- repo: https://github.com/astral-sh/uv-pre-commit
  # uv version.
  rev: 0.8.17
  hooks:
  - id: uv-lock

# Markdown
- repo: https://github.com/jackdewinter/pymarkdown
  rev: v0.9.32
  hooks:
  - id: pymarkdown
    args: [fix]
  # we also need to run scan because, unlike `ruff`, pymarkdown does not fail on rule failures if using `fix`.
  - id: pymarkdown
    args: [scan]
